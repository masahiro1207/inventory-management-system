# 在庫管理システム

## 概要
このシステムは、CSVファイルによる在庫データの一括取り込み、手動在庫調整、機械学習による需要予測、在庫アラート機能を備えた包括的な在庫管理システムです。

## 主な機能

### 1. CSVファイル処理
- **アップロード**: メーカー名、商品名、単価、数量を含むCSVファイルをアップロード
- **自動処理**: 既存商品の更新、新規商品の追加
- **エクスポート**: 現在の在庫データをCSV形式でダウンロード

### 2. 在庫管理
- **一覧表示**: 商品コード、メーカー、商品名、単価、現在在庫、最低必要数などを表示
- **手動調整**: 在庫数の増減を手動で調整
- **最低必要数設定**: 商品ごとに最低必要在庫数を設定

### 3. 機械学習による需要予測
- **注文推奨**: 在庫不足商品と需要予測による注文推奨
- **優先度表示**: 高優先度（在庫不足）と中優先度（需要予測）で分類
- **モデル訓練**: 注文履歴データから機械学習モデルを訓練

### 4. アラート機能
- **在庫不足警告**: 最低必要数を下回った商品を画面下部に表示
- **自動更新**: 30秒ごとにアラートを自動更新

## 技術仕様

### バックエンド
- **フレームワーク**: Flask (Python)
- **データベース**: SQLite
- **機械学習**: scikit-learn (Random Forest)
- **データ処理**: pandas, numpy

### フロントエンド
- **UI**: Bootstrap 5
- **アイコン**: Font Awesome
- **JavaScript**: バニラJavaScript (ES6+)

## セットアップ

### 1. 依存関係のインストール
```bash
pip install -r requirements.txt
```

### 2. アプリケーションの起動
```bash
python run.py
```

### 3. ブラウザでアクセス
```
http://localhost:5000
```

## 使用方法

### CSVファイルの形式
以下の列を含むCSVファイルをアップロードしてください：

```csv
manufacturer,product_name,unit_price,quantity
トヨタ自動車,エンジンオイル 5W-30,1200,50
ホンダ,ブレーキパッド フロント,3500,30
```

### 在庫調整
1. 在庫一覧の「操作」列の編集ボタンをクリック
2. 調整数量を入力（正の値で増加、負の値で減少）
3. 取引先を入力（オプション）
4. 「調整実行」をクリック

### 最低必要数の設定
1. 在庫一覧の「最低必要数」列の数値をクリック
2. 新しい最低必要数を入力
3. 「設定」をクリック

### 機械学習モデルの訓練
1. ナビゲーションバーの「ML訓練」ボタンをクリック
2. 注文履歴データからモデルを訓練
3. 「注文推奨」セクションで推奨を確認

## ファイル構成

```
inventory_management_system/
├── app/
│   ├── __init__.py          # Flaskアプリケーション初期化
│   ├── controllers/         # コントローラー
│   │   └── inventory_controller.py
│   ├── models/             # データベースモデル
│   │   ├── __init__.py
│   │   └── inventory.py
│   ├── services/           # ビジネスロジック
│   │   ├── csv_service.py
│   │   └── ml_service.py
│   ├── static/             # 静的ファイル
│   └── templates/          # HTMLテンプレート
│       └── index.html
├── data/                   # サンプルデータ
│   └── sample_inventory.csv
├── models/                 # 機械学習モデル保存
├── reports/                # CSVエクスポート
├── uploads/                # アップロードファイル
├── requirements.txt        # 依存関係
├── run.py                 # アプリケーション起動
└── README.md              # このファイル
```

## 注意事項

- 機械学習モデルの訓練には十分な注文履歴データが必要です（最低10件）
- CSVファイルはUTF-8エンコーディングで保存してください
- 大量のデータを処理する際は、処理時間がかかる場合があります

## 今後の拡張予定

- ユーザー認証機能
- より高度な機械学習アルゴリズム
- 在庫コスト分析
- サプライヤー管理機能
- モバイルアプリ対応

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
